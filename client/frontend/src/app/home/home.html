<div id="large-container">
  <div class="home-container">
    <div id="main-container">
      <header>
        <div class="logo">🌿 Mon Carnet Nature</div>
      </header>

      <h1>Organisez vos journées, cultivez vos idées.</h1>

      <div class="buttons">
        <a routerLink="/tasks" class="btn btn-primary">Voir mes tâches</a>
        <a routerLink="/login" class="btn btn-secondary">Se connecter</a>
      </div>

      <blockquote class="quote">
        “Chaque jour est une nouvelle page à écrire.”
      </blockquote>

      <ul class="features">
        <li>🪴 Organisez vos tâches naturellement</li>
        <li>📖 Gardez vos idées au chaud</li>
        <li>🌸 Prenez soin de votre esprit</li>
      </ul>
    </div>
  </div>

  <div id="calendar-button">
    <div class="calendar-controls">
      <button *ngIf="isToday || isTomorrow" (click)="changeDay(-1)">Hier</button>
      <span>{{ today | date: 'EEEE d MMMM' }}</span>
      <button *ngIf="isToday || isYesterday" (click)="changeDay(1)">Demain</button>
    </div>

    <!-- Datepicker -->
    <mat-form-field appearance="fill">
      <mat-label>Choisir une date</mat-label>
      <input matInput [matDatepicker]="picker" [(ngModel)]="selectedDate" (dateChange)="onDateChange($event)">
      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
      <mat-datepicker #picker></mat-datepicker>
    </mat-form-field>

    <div>
      ✨ <em>“Faites de votre journée une belle histoire.”</em>
    </div>

    <!-- Bouton changé pour créer une nouvelle tâche -->
    <a routerLink="/tasks/new" id="newpage-btn" class="btn btn-primary">📝 Commencer une nouvelle page</a>
  </div>

  <!-- Tâches du jour : affiche les tâches pour la date sélectionnée -->
  <div class="today-tasks">
    <h3>📋 Tâches du jour</h3>
    <ul>
      <li *ngFor="let task of tasksForSelectedDate">
        {{ task.title }}
      </li>
      <li *ngIf="tasksForSelectedDate.length === 0">Aucune tâche pour ce jour.</li>
    </ul>
  </div>

  <!-- Dernières tâches ajoutées -->
  <div class="today-tasks" style="margin-top:2rem;">
    <h3>🕒 Dernières tâches ajoutées</h3>
    <ul>
      <li *ngFor="let task of lastTasks">{{ task.title }}</li>
    </ul>
  </div>

</div>
