<div class="task-container">
  <h2>Mes tÃ¢ches</h2>

  <form (ngSubmit)="addTask()" class="task-form">
    <mat-form-field appearance="fill">
      <mat-label>Titre</mat-label>
      <input matInput type="text" [(ngModel)]="newTask.title" name="title" required />
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Description</mat-label>
      <textarea matInput [(ngModel)]="newTask.description" name="description"></textarea>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Date limite</mat-label>
      <input matInput [matDatepicker]="picker" [(ngModel)]="newTask.dueDate" name="dueDate" />
      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
      <mat-datepicker #picker></mat-datepicker>
    </mat-form-field>

    <button mat-raised-button color="primary" type="submit">Ajouter</button>
  </form>

  <ul class="task-list">
    <li *ngFor="let task of tasks" [class.completed]="task.completed">
      <div class="task-item">
        <input type="checkbox" [(ngModel)]="task.completed" (change)="toggleTaskCompletion(task)" />
        <div class="task-info">
          <p class="task-title">{{ task.title }}</p>
          <p class="task-desc" *ngIf="task.description">{{ task.description }}</p>
          <p class="task-date" *ngIf="task.dueDate">ğŸ“… {{ task.dueDate | date }}</p>
        </div>
        <button mat-icon-button color="warn" (click)="deleteTask(task)">
          <mat-icon>delete</mat-icon>
        </button>
      </div>
    </li>
  </ul>
</div>
